<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <ui:composition>

        <p:dialog id="DeplacementViewDlg" showEffect="explode" hideEffect="bounce" widgetVar="DeplacementViewDialog" modal="true" resizable="false" appendTo="@(body)" header="Deplacement Interne" width="60%">
            <h:form id="DeplacementViewForm">
                <h:panelGroup id="display">
                    <p:panelGrid columns="4" style="width: 100%" rendered="#{deplacementController.selected != null}" columnClasses="ui-grid-col-2,ui-grid-col-10" styleClass="ui-panelgrid-blank" >



                        <h:outputText value="Bénéficiaire"/>
                        <h:outputText value="#{deplacementController.selected.cinPpr.nomComplet}" title="#{bundle.ViewDeplacementTitle_cinPpr}"/>


                        <h:outputText value="Motif : "/>
                        <h:outputText value="#{deplacementController.selected.motif}" title="#{bundle.ViewDeplacementTitle_motif}"/>






                        <h:outputText value="Date depart"/>
                        <h:outputText value="#{deplacementController.selected.dateDepart}" title="#{bundle.ViewDeplacementTitle_dateDepart}">
                            <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                        </h:outputText>

                        <h:outputText value="Date d'arrive"/>
                        <h:outputText value="#{deplacementController.selected.dateArrive}" title="#{bundle.ViewDeplacementTitle_dateArrive}">
                            <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                        </h:outputText>

                        <h:outputText value="Date de creation"/>
                        <h:outputText value="#{deplacementController.selected.dateCreation}" title="#{bundle.ViewDeplacementTitle_dateCreation}">
                            <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                        </h:outputText>


                        <h:outputText value="Creer par "/>
                        <h:outputText value="#{deplacementController.selected.idUser.nom} #{deplacementController.selected.idUser.prenom}" title="#{bundle.ViewDeplacementTitle_idUser}"/>

                        <h:outputText value="Secteur de deplacement"/>
                        <h:outputText value="#{deplacementController.selected.idDotationSect.idSecteur.intituleSecteur}" title="#{bundle.ViewDeplacementTitle_dotationsecteur}"/>

                        <h:outputText value="Status"/>
                        <h:outputText value="#{deplacementController.selected.etat ==0 ?  'en Cour' : '' } #{deplacementController.selected.etat ==1 ?  'Valide' : '' } #{deplacementController.selected.etat ==2 ?  'Rjeter' : '' }" title="Status Deplacement"/>

                        <h:outputText value="Date de validation"/>
                        <h:outputText value="#{deplacementController.selected.dateEtat}" title="#{bundle.ViewDeplacementTitle_dateEtat}">
                            <f:convertDateTime pattern="MM/dd/yyyy HH:mm:ss" />
                        </h:outputText>

                        <h:outputText value="Ville de destination"/>
                        <h:outputText value="#{deplacementController.selected.ville}" title="#{bundle.ViewDeplacementTitle_ville}"/>


                        <h:outputText value="Indice"/>
                        <h:outputText value="#{deplacementController.selected.indice}" title="#{bundle.ViewDeplacementTitle_indice}"/>

                        <h:outputText value="Echelle"/>
                        <h:outputText value="#{deplacementController.selected.echelle}" title="#{bundle.ViewDeplacementTitle_echelle}"/>

                        <h:outputText value="Grade"/>
                        <h:outputText value="#{deplacementController.selected.grade}" title="#{bundle.ViewDeplacementTitle_grade}"/>

                        <h:outputText value="justification"/>
                        <h:outputText value="#{deplacementController.selected.justification}" title="Justification"/>

                        <h:outputText value="Montant totale"/>
                        <h4> <h:outputText  style='color: #0044DD' value="#{deplacementController.selected.montantDepInt}" title="#{bundle.ViewDeplacementTitle_mntKm}"/></h4>

                    </p:panelGrid>
                    <p:panelGrid columns="2" rendered="#{deplacementController.selected.etat == 2 || deplacementController.selected.etat == 0 ? false:true}" >
                        OP <p:panel><h:commandButton actionListener="#{deplacementController.PDFOP}" value="PDF" styleClass="btn btn-success" /><h:commandButton actionListener="#{deplacementController.XLSXOP}" styleClass="btn btn-success" value="Excel" /><h:commandButton styleClass="btn btn-success" actionListener="#{deplacementController.DOCXOP}" value="Word" /></p:panel>
                        OV <p:panel> <h:commandButton actionListener="#{deplacementController.PDFOV}" value="PDF" styleClass="btn btn-success" /><h:commandButton actionListener="#{deplacementController.XLSXOV}" styleClass="btn btn-success" value="Excel" /><h:commandButton styleClass="btn btn-success" actionListener="#{deplacementController.DOCXOV}" value="Word" /></p:panel>
                        Etat <p:panel> <h:commandButton actionListener ="#{deplacementController.PDEtat}" value="PDF" styleClass="btn btn-success" /><h:commandButton actionListener="#{deplacementController.XLSXEtat}" styleClass="btn btn-success" value="Excel" /><h:commandButton styleClass="btn btn-success" actionListener="#{deplacementController.DOCXEtat}" value="Word" /></p:panel> 
                    </p:panelGrid>

                    <p:commandButton value="#{bundle.Close}" onclick="DeplacementViewDialog.hide()"/>
                </h:panelGroup>
            </h:form>
        </p:dialog>

    </ui:composition>
</html>
